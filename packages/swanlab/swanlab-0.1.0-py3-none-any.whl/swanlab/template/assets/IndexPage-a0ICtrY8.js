import{o as e,c as t,w as a,y as l,z as s,g as n,t as i,k as r,u as o,T as u,A as d,_ as c,B as p,p as m,d as x,f as v,C as f,e as h,a as y,v as g,F as _,r as w,l as k,D as b,E as $,G as S,x as C}from"./index-V9Pr_SSw.js";import{S as T}from"./SLStatusLabel-yVU4bAVb.js";const j={__name:"SLCopy",props:{text:{type:String,required:!0},iconClass:{type:String,default:"w-4 h-4"},duration:{type:Number,default:2e3}},setup(c){const p=c;return(m,x)=>(e(),t(o(u),{trigger:"click"},{default:a((({hide:e})=>[n(l,{icon:"copy",class:s(c.iconClass),onClick:t=>(e=>{d(p.text),setTimeout((()=>e()),p.duration)})(e)},null,8,["class","onClick"])])),content:a((()=>[r(i(m.$t("common.copy")),1)])),_:1}))}},D={class:"w-full px-6 pt-6 text-dimmer"},E={class:"flex items-center"},I={class:"text-2xl font-semibold text-default pr-4"},L={key:0,class:"flex items-center pt-5"},M={class:"flex justify-between pt-6 pb-2 flex-wrap"},N={class:"w-1/2 min-w-[400px]"},q={class:"flex pb-4"},A={class:"min-w-[150px]"},F={class:"min-w-[150px]"},B={class:""},z={key:0,class:"w-1/2 min-w-[400px]"},G={class:"min-w-[150px]"},H={class:""},K=c({__name:"ExperimentHeader",setup(t){const a=p(m().experiment),l=x((()=>[{title:"start_time",value:v(a.value.create_time)},{title:"last_time",value:r()}])),s=x((()=>[{title:"hostname",value:a.value.system.hostname||""},{title:"os",value:a.value.system.os||""},{title:"python",value:a.value.system.python||""}])),r=()=>{const e=new Date(a.value.create_time),t=new Date,l=0===a.value.status?new Date(t.getTime()-288e5):new Date(a.value.update_time);if(isNaN(e.getTime())||isNaN(l.getTime()))return"Invalid date";const s=Math.abs(l-e),n=Math.floor(s/1e3)%60,i=Math.floor(s/6e4)%60,r=Math.floor(s/36e5)%24,o=Math.floor(s/864e5),u=[];return o>0&&u.push(`${o}${f("experiment.index.header.experiment_infos.time.day")}`),r>0&&u.push(`${r}${f("experiment.index.header.experiment_infos.time.hour")}`),i>0&&u.push(`${i}${f("experiment.index.header.experiment_infos.time.minute")}`),n>0&&u.push(`${n}${f("experiment.index.header.experiment_infos.time.second")}`),u.join("")};return(t,r)=>{var o;return e(),h("div",D,[y("div",E,[y("span",I,i(a.value.name),1),n(j,{text:a.value.name,"icon-class":"w-5 h-5 text-dimmest cursor-pointer hover:text-dimmer mr-3"},null,8,["text"])]),(null==(o=a.value)?void 0:o.description)?(e(),h("div",L,[y("span",null,i(a.value.description),1),n(j,{text:a.value.description,"icon-class":"w-5 h-5 text-dimmest cursor-pointer hover:text-dimmer ml-4 mr-3"},null,8,["text"])])):g("",!0),y("div",M,[y("div",N,[y("div",q,[y("div",A,i(t.$t("experiment.index.header.experiment_infos.status")),1),n(T,{name:a.value.name,id:a.value.id,status:a.value.status},null,8,["name","id","status"])]),(e(!0),h(_,null,w(l.value,(a=>(e(),h("div",{key:a.title,class:"flex pb-4"},[y("div",F,i(t.$t(`experiment.index.header.experiment_infos.${a.title}`)),1),y("div",B,i(a.value),1)])))),128))]),a.value.system?(e(),h("div",z,[(e(!0),h(_,null,w(s.value,(a=>(e(),h("div",{key:a.title,class:"flex pb-4"},[y("div",G,i(t.$t(`experiment.index.header.experiment_device.${a.title}`)),1),y("div",H,i(""===a.value?"未知":a.value),1)])))),128))])):g("",!0)])])}}},[["__scopeId","data-v-1855577b"]]),V={class:"w-full"},J={class:"text-lg font-semibold"},O=c({__name:"ExtendBlock",props:{title:{type:String,required:!0},icon:{type:String,required:!0},retract:{type:Boolean,default:!0}},setup(a){const r=p(!0);return(o,u)=>(e(),h("div",V,[y("button",{class:s(["flex items-center py-4",a.retract?"":"pl-6 cursor-default"]),onClick:u[0]||(u[0]=()=>a.retract&&(r.value=!r.value))},[a.retract?(e(),t(l,{key:0,icon:"down",class:s(["w-5 h-5 mx-1 text-dimmest",r.value?"rotate-show":"rotate-hidden"])},null,8,["class"])):g("",!0),n(l,{icon:a.icon,class:"w-6 h-6 mr-2"},null,8,["icon"]),y("span",J,i(a.title),1)],2),y("div",{class:s(["transition-all duration-200 pr-5",a.retract?r.value?"max-h-[500px] overflow-auto":"max-h-0 overflow-hidden":""])},[k(o.$slots,"default",{},void 0,!0)],2)]))}},[["__scopeId","data-v-2a090e66"]]),P={class:"border rounded overflow-x-auto"},Q=c({__name:"SLTable",props:{header:{type:Array,required:!0},data:{type:Array,required:!0},align:{type:String,default:"left"}},setup(a){const l=a,n=x((()=>"text-"+l.align)),o=e=>"object"==typeof e&&!!e.component;return(l,u)=>(e(),h("div",P,[y("table",{class:s(["sl-table",[n.value]])},[y("tr",null,[(e(!0),h(_,null,w(a.header,(a=>(e(),h("th",{key:a},[o(a)?(e(),t(b(a.component),{key:0,props:a.props},null,8,["props"])):(e(),h(_,{key:1},[r(i(a),1)],64))])))),128))]),(e(!0),h(_,null,w(a.data,(a=>(e(),h("tr",{key:a[0]},[(e(!0),h(_,null,w(a,(a=>(e(),h("td",{key:a},[o(a)?(e(),t(b(a.component),$(S({key:0},a.props)),null,16)):(e(),h(_,{key:1},[r(i(a),1)],64))])))),128))])))),128))],2)]))}},[["__scopeId","data-v-75ff7e58"]]),U={__name:"SLHelp",props:{iconClass:{type:String,default:""},content:{type:String,default:""},contentClass:{type:String,default:""},document:{type:String}},setup(l){const n=l,r=()=>{n.document&&window.open(n.document,"_blank")};return(n,d)=>(e(),t(o(u),{trigger:"mouseenter",placement:"right",class:s(l.document?"cursor-pointer":""),onClick:r},{content:a((()=>[y("div",{class:s(l.contentClass)},i(l.content),3),k(n.$slots,"default")])),default:a((()=>[y("div",{class:s(["w-5 h-5 flex items-center justify-center text-sm rounded-full pointer-events-none bg-slate-400 text-white font-semibold",l.iconClass])}," ? ",2)])),_:3},8,["class"]))}},W={class:"pl-6 w-full grid lg:grid-cols-2 lg:gap-10"},R={class:"flex items-center pb-4"},X={class:"font-semibold pr-2"},Y={key:0},Z={key:0,class:"flex items-center pb-4"},ee={class:"font-semibold pr-2"},te=y("div",{class:"w-full h-6"},null,-1),ae={__name:"ExperimentConfig",setup(l){const s=p(m().experiment),o=e=>{const t=[];for(const a in e)t.push([a,e[a]]);return t},u=p([]),d=p(m().id);return C.get(`/experiment/${d.value}/summary`).then((e=>{u.value=e.data.summaries||[]})).catch((e=>{})),(l,d)=>(e(),t(O,{class:"pt-2 pr-5",icon:"config",title:l.$t("experiment.index.config.title"),retract:!1},{default:a((()=>{var t,d,c;return[y("div",W,[y("div",null,[y("div",R,[y("p",X,i(l.$t("experiment.index.config.detail")),1),n(U,{document:"https://geektechstudio.feishu.cn/wiki/EFi3wuACGiEWlLki5aDcQiSpngg"},{default:a((()=>[r(i(l.$t("experiment.index.config.help.config")),1)])),_:1})]),n(Q,{class:"max-w-[600px]",header:["Key","Value"],data:o(s.value.config)},null,8,["data"])]),0!==(null==(t=u.value)?void 0:t.length)?(e(),h("div",Y,[0!==(null==(d=u.value)?void 0:d.length)?(e(),h("div",Z,[y("p",ee,i(l.$t("experiment.index.config.summarize")),1),n(U,{document:"https://geektechstudio.feishu.cn/wiki/TudNwOSMyihFetky7l5cTI8UnJf"},{default:a((()=>[r(i(l.$t("experiment.index.config.help.summary")),1)])),_:1})])):g("",!0),n(Q,{class:"max-w-[600px]",header:["Key","Value"],data:null==(c=u.value)?void 0:c.map((e=>[e[0],e[1].toFixed(4)]))},null,8,["data"])])):g("",!0)]),te]})),_:1},8,["title"]))}},le=y("hr",null,null,-1),se=y("hr",null,null,-1),ne={__name:"IndexPage",setup:t=>(t,a)=>(e(),h(_,null,[n(K),le,n(ae),se],64))};export{ne as default};
