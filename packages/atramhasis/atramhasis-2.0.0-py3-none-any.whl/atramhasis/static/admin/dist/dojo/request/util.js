//>>built
define("dojo/request/util","exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise ../has".split(" "),function(g,t,m,u,n,v,l,w,k){function p(b){return k("native-arraybuffer")&&b instanceof ArrayBuffer}function q(b){return k("native-blob")&&b instanceof Blob}function x(b){return r(b)}function y(b){return void 0!==b.data?b.data:b.text}g.deepCopy=function(b,e){for(var c in e){var d=b[c],a=e[c];if("__proto__"!==c&&d!==a){var h=a,f;
if(f=h&&"object"===typeof h)f=h,f=!(k("native-formdata")&&f instanceof FormData);!f||("undefined"!==typeof Element?h instanceof Element:1===h.nodeType)||q(h)||p(h)?b[c]=a:"[object Date]"===Object.prototype.toString.call(a)?b[c]=new Date(a):l.isArray(a)?b[c]=g.deepCopyArray(a):d&&"object"===typeof d?g.deepCopy(d,a):b[c]=g.deepCopy({},a)}}return b};g.deepCopyArray=function(b){for(var e=[],c=0,d=b.length;c<d;c++){var a=b[c];"object"===typeof a?e.push(g.deepCopy({},a)):e.push(a)}return e};g.deepCreate=
function(b,e){e=e||{};var c=l.delegate(b),d,a;for(d in b)(a=b[d])&&"object"===typeof a&&(c[d]=g.deepCreate(a,e[d]));return g.deepCopy(c,e)};var r=Object.freeze||function(b){return b};g.deferred=function(b,e,c,d,a,h){var f=new u(function(a){e&&e(f,b);return a&&(a instanceof t||a instanceof m)?a:new m("Request canceled",b)});f.response=b;f.isValid=c;f.isReady=d;f.handleResponse=a;c=f.then(x).otherwise(function(a){a.response=b;throw a;});g.notify&&c.then(l.hitch(g.notify,"emit","load"),l.hitch(g.notify,
"emit","error"));d=c.then(y);a=new w;for(var k in d)d.hasOwnProperty(k)&&(a[k]=d[k]);a.response=c;r(a);h&&f.then(function(a){h.call(f,a)},function(a){h.call(f,b,a)});f.promise=a;f.then=a.then;return f};g.addCommonMethods=function(b,e){v.forEach(e||["GET","POST","PUT","DELETE"],function(c){b[("DELETE"===c?"DEL":c).toLowerCase()]=function(d,a){a=l.delegate(a||{});a.method=c;return b(d,a)}})};g.parseArgs=function(b,e,c){var d=e.data,a=e.query;!d||c||"object"!==typeof d||k("native-xhr2")&&(p(d)||q(d))||
(e.data=n.objectToQuery(d));a?("object"===typeof a&&(a=n.objectToQuery(a)),e.preventCache&&(a+=(a?"\x26":"")+"request.preventCache\x3d"+ +new Date)):e.preventCache&&(a="request.preventCache\x3d"+ +new Date);b&&a&&(b+=(~b.indexOf("?")?"\x26":"?")+a);return{url:b,options:e,getHeader:function(a){return null}}};g.checkStatus=function(b){b=b||0;return 200<=b&&300>b||304===b||1223===b||!b}});
//# sourceMappingURL=util.js.map