import glob
import numpy as np
import os


modulePath = os.path.dirname(os.path.realpath(__file__))
print("Building library '" + os.path.basename(modulePath) + "' ...")

os.chdir(modulePath)

sources = glob.glob('FMM/**/*.c', recursive=True)

def make_ext(modname, pyxfilename):
    from setuptools.extension import Extension
    return Extension(modname,
        sources=[pyxfilename]+sources,
        include_dirs = ['.',np.get_include(),os.path.join(modulePath,'FMM/src')])