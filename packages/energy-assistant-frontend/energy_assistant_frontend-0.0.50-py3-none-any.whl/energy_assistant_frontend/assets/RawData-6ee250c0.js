import{p as j,af as q,z,F as E,e as J,c as K,ag as O,J as p,u as D,M as $,N as W,l,m as w,w as V,Q as s,$ as a,O as t,S as n,q as P,V as d,K as T,r as g,v as Q,o as G,a3 as M}from"./index-9b57d2d5.js";import{f as _}from"./utils-6f3c77d7.js";import{b as I}from"./VCard-16a977eb.js";import{V as A}from"./VTable-2c276439.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";import{V as X}from"./VToolbar-dc629630.js";import{V as Y}from"./index-7f073286.js";import{m as Z,a as ee,u as se,b as x,c as B,V as te}from"./VSelect-72b99cdf.js";import{h as oe}from"./VImg-601f5a2c.js";import"./VAvatar-089c55ac.js";import"./index-a0309372.js";import"./easing-c01f84ef.js";import"./forwardRefs-43fa23bf.js";import"./scopeId-d9b3e4be.js";import"./VList-4a37a778.js";import"./resizeObserver-a80b315a.js";import"./group-8817b070.js";const ae=j({...Z(),...q(ee(),["inline"])},"VCheckbox"),le=z()({name:"VCheckbox",inheritAttrs:!1,props:ae(),emits:{"update:modelValue":i=>!0,"update:focused":i=>!0},setup(i,u){let{attrs:m,slots:e}=u;const c=E(i,"modelValue"),{isFocused:o,focus:r,blur:C}=se(i),h=J(),f=K(()=>i.id||`checkbox-${h}`);return oe(()=>{const[y,v]=O(m),k=x.filterProps(i),U=B.filterProps(i);return p(x,D({class:["v-checkbox",i.class]},y,k,{modelValue:c.value,"onUpdate:modelValue":b=>c.value=b,id:f.value,focused:o.value,style:i.style}),{...e,default:b=>{let{id:N,messagesId:H,isDisabled:L,isReadonly:R}=b;return p(B,D(U,{id:N.value,"aria-describedby":H.value,disabled:L.value,readonly:R.value},v,{modelValue:c.value,"onUpdate:modelValue":S=>c.value=S,onFocus:r,onBlur:C}),e)}})}),{}}}),re={class:"bg-primary"},ne={class:"w-24 px-6 py-3"},de={class:"w-36 px-6 py-3"},ue={class:"w-36 px-6 py-3"},ce={class:"w-36 px-6 py-3"},_e={class:"w-36 px-6 py-3"},ie={class:"w-36 px-6 py-3"},me={class:"px-6 py-4"},pe={class:"px-6 py-4"},he={key:0},ye={key:1},ve={class:"px-6 py-4"},ge={key:0},ke={key:1},fe={class:"px-6 py-4"},we={key:0},Ve={key:1},be={class:"px-6 py-4"},Me={key:0},$e={key:1},We={class:"px-6 py-4"},Ce={key:0},De={key:1},xe=$({__name:"HomeMeasurementTable",props:{homeMeasurements:{},showMeterValues:{type:Boolean}},setup(i){const{t:u,d:m}=W();return(e,c)=>(l(),w(I,{class:"rounded-lg elevation-6"},{default:V(()=>[p(A,{class:"m-4 border"},{default:V(()=>[s("thead",re,[s("tr",null,[s("th",ne,a(t(u)("raw_data.date")),1),s("th",de,a(t(u)("consumed_solar_energy")),1),s("th",ue,a(t(u)("consumed_energy")),1),s("th",ce,a(t(u)("raw_data.produced_solar_energy")),1),s("th",_e,a(t(u)("raw_data.imported_energy")),1),s("th",ie,a(t(u)("raw_data.exported_energy")),1)])]),s("tbody",null,[(l(!0),n(T,null,P(e.homeMeasurements,(o,r)=>(l(),n("tr",{key:o.id,class:"border-b text-center"},[s("td",me,a(t(m)(new Date(o.measurement_date))),1),s("td",pe,[r<e.homeMeasurements.length-1?(l(),n("p",he,a(t(_)(o.solar_consumed_energy-e.homeMeasurements[r+1].solar_consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(l(),n("p",ye,a(t(_)(o.solar_consumed_energy,"kWh")),1)):d("",!0)]),s("td",ve,[r<e.homeMeasurements.length-1?(l(),n("p",ge,a(t(_)(o.consumed_energy-e.homeMeasurements[r+1].consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(l(),n("p",ke,a(t(_)(o.consumed_energy,"kWh")),1)):d("",!0)]),s("td",fe,[r<e.homeMeasurements.length-1?(l(),n("p",we,a(t(_)(o.solar_produced_energy-e.homeMeasurements[r+1].solar_produced_energy,"kWh")),1)):d("",!0),e.showMeterValues?(l(),n("p",Ve,a(t(_)(o.solar_produced_energy,"kWh")),1)):d("",!0)]),s("td",be,[r<e.homeMeasurements.length-1?(l(),n("p",Me,a(t(_)(o.grid_imported_energy-e.homeMeasurements[r+1].grid_imported_energy,"kWh")),1)):d("",!0),e.showMeterValues?(l(),n("p",$e,a(t(_)(o.grid_imported_energy,"kWh")),1)):d("",!0)]),s("td",We,[r<e.homeMeasurements.length-1?(l(),n("p",Ce,a(t(_)(o.grid_exported_energy-e.homeMeasurements[r+1].grid_exported_energy,"kWh")),1)):d("",!0),e.showMeterValues?(l(),n("p",De,a(t(_)(o.grid_exported_energy,"kWh")),1)):d("",!0)])]))),128))])]),_:1})]),_:1}))}});const Be=F(xe,[["__scopeId","data-v-cefdd108"]]),Pe={class:"bg-primary"},Te={class:"w-24 px-6 py-3"},Ie={class:"w-36 px-6 py-3"},Ae={class:"w-36 px-6 py-3"},Fe={class:"px-6 py-4"},Ue={class:"px-6 py-4"},Ne={key:0},He={key:1},Le={class:"px-6 py-4"},Re={key:0},Se={key:1},je=$({__name:"DeviceMeasurementTable",props:{deviceMeasurements:{},showMeterValues:{type:Boolean}},setup(i){const{t:u,d:m}=W();return(e,c)=>(l(),w(I,{class:"rounded-lg elevation-6"},{default:V(()=>[p(A,{class:"m-4 rounded-lg border"},{default:V(()=>[s("thead",Pe,[s("tr",null,[s("th",Te,a(t(u)("raw_data.date")),1),s("th",Ie,a(t(u)("consumed_solar_energy")),1),s("th",Ae,a(t(u)("consumed_energy")),1)])]),s("tbody",null,[(l(!0),n(T,null,P(e.deviceMeasurements,(o,r)=>(l(),n("tr",{key:o.id,class:"border-b text-center"},[s("td",Fe,a(t(m)(new Date(o.measurement_date))),1),s("td",Ue,[r<e.deviceMeasurements.length-1?(l(),n("p",Ne,a(t(_)(o.solar_consumed_energy-e.deviceMeasurements[r+1].solar_consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(l(),n("p",He,a(t(_)(o.solar_consumed_energy,"kWh")),1)):d("",!0)]),s("td",Le,[r<e.deviceMeasurements.length-1?(l(),n("p",Re,a(t(_)(o.consumed_energy-e.deviceMeasurements[r+1].consumed_energy,"kWh")),1)):d("",!0),e.showMeterValues?(l(),n("p",Se,a(t(_)(o.consumed_energy,"kWh")),1)):d("",!0)])]))),128))])]),_:1})]),_:1}))}});const qe=F(je,[["__scopeId","data-v-06e24862"]]),ze={class:"v-full flex min-h-screen justify-center p-4 bg-background"},Ee={key:0,class:"grid h-full w-full grid-cols-1 justify-items-center"},Je=s("span",{class:"loading loading-dots loading-lg py-2"},null,-1),Ke=[Je],Oe={key:1},Qe={class:"my-4 flex"},ms=$({__name:"RawData",setup(i){const{t:u}=W(),m=g(),e=g(),c=g(),o=g(!1),r=g(""),h=g(!1),f=async function(y){o.value=!0,e.value=await M.getAllHomeMeasurements(),m.value=y!=""?await M.getDeviceMeasurements(y):[],o.value=!1};return Q(r,()=>{console.log("Change selection: "+r.value),f(r.value)}),G(async()=>{c.value=await M.getAllDevices(),c.value.length>0&&(r.value=c.value[0].id,console.log("Load in on mounted: "+c.value[0].id),f(c.value[0].id))}),(y,v)=>(l(),n("div",null,[p(X,{color:"transparent",title:y.$t("app.rawdata")},null,8,["title"]),p(Y),s("div",ze,[o.value?(l(),n("div",Ee,Ke)):(l(),n("div",Oe,[e.value?(l(),w(Be,{key:0,"home-measurements":e.value,"show-meter-values":h.value},null,8,["home-measurements","show-meter-values"])):d("",!0),p(te,{modelValue:r.value,"onUpdate:modelValue":v[0]||(v[0]=k=>r.value=k),class:"my-4 bg-surface rounded-lg",items:c.value?c.value:[],"item-title":"name","item-value":"id","single-line":""},null,8,["modelValue","items"]),m.value?(l(),w(qe,{key:1,"device-measurements":m.value,"show-meter-values":h.value},null,8,["device-measurements","show-meter-values"])):d("",!0),s("div",Qe,[p(le,{modelValue:h.value,"onUpdate:modelValue":v[1]||(v[1]=k=>h.value=k),label:t(u)("raw_data.show_meter_values")},null,8,["modelValue","label"])])]))])]))}});export{ms as default};
