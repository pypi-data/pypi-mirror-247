<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <style>
      html {
        width: 100%;
        height: 100%;
      }

      body {
        height: 100%;
        width: 100%;
        margin: 0px;
        font-family: arial, Microsoft Yahei, helvetica neue, sans-serif;
      }
      .container {
        padding: 0px;
        width: 100%;
        height: 100%;
        align-items: center;
        justify-content: center;
        display: flex;
        flex-direction: column;
        background-color: rgb(34, 34, 34);
      }
      #prompt {
        color: rgb(190, 190, 190);
        font-size: 15px;
        text-overflow: ellipsis;
        outline: none;
        user-select: none;
        overflow: hidden;
        width: 330px;
        white-space: nowrap;
        text-align: center;
      }
      #suggestion {
        color: rgb(110, 110, 110);
        font-size: 12px;
        text-overflow: ellipsis;
        outline: none;
        user-select: none;
        overflow: hidden;
        width: 290px;
        white-space: nowrap;
        text-align: center;
      }
      .buttonrerowcontainer {
        align-items: center;
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: center;
      }
      #ok_button {
        outline: none;
        user-select: none;
        cursor: pointer;
        background-color: #2569bf;
        height: 32px;
        width: 155px;
        border-style: none;
        border-radius: 2px;
        color: rgb(210, 210, 210);
        font-size: 12px;
        margin-left: 7px;
        margin-right: 7px;
      }

      #ok_button:hover {
        background-color: #3886ea;
        color: rgb(245, 245, 245);
      }

      #cancel_button {
        outline: none;
        user-select: none;
        cursor: pointer;
        background-color: rgb(60, 60, 60);
        height: 32px;
        width: 100px;
        border-style: none;
        border-radius: 2px;
        color: rgb(210, 210, 210);
        font-size: 12px;
        margin-left: 7px;
        margin-right: 7px;
      }

      #cancel_button:hover {
        background-color: rgb(79, 79, 79);
        color: rgb(240, 240, 240);
      }
    </style>
  </head>

  <body>
    <div class="container">
      <span id="prompt"></span>
      <div style="height: 10px;"></div>
      <span id="suggestion"></span>
      <div style="height: 22px;"></div>
      <div class="buttonrerowcontainer">
        <button id="ok_button" type="button" style="display: block;"></button>
        <button
          id="cancel_button"
          type="button"
          style="display: none;"
        ></button>
      </div>
      <div style="height: 12px;"></div>
    </div>
    <script>
      const _prompt = document.getElementById('prompt')
      const _suggestion = document.getElementById('suggestion')
      const _okButton = document.getElementById('ok_button')
      const _cancelButton = document.getElementById('cancel_button')

      const textLanguage = {
        us: {
          cancel_button: 'Cancel',
          ok_button: 'OK',
        },
        cn: {
          cancel_button: '取消',
          ok_button: '确定',
        },
      }
      function getText(key) {
        let lang = 'cn'
        if (window.ArtHubDesktop && window.ArtHubDesktop.language) {
          lang = window.ArtHubDesktop.language
        }
        return textLanguage[lang][key]
      }
      function translationElement(id) {
        const element = document.getElementById(id)
        if (element) {
          element.innerText = getText(id)
        }
      }
      translationElement('ok_button')
      translationElement('cancel_button')

      function _setWindowInfo(
        query,
        promptText,
        suggestionText,
        okText,
        cancelText
      ) {
        if (query === true) {
          _okButton.style.width = '132px'
          _cancelButton.style.width = '132px'
          _okButton.style.display = 'block'
          _cancelButton.style.display = 'block'
        } else {
          _okButton.style.width = '155px'
          _okButton.style.display = 'block'
          _cancelButton.style.display = 'none'
        }
        _prompt.innerText = promptText
        _prompt.title = promptText
        _suggestion.innerText = suggestionText
        _suggestion.title = suggestionText
        if (okText) {
          _okButton.innerText = okText
        } else {
          translationElement('ok_button')
        }
        if (cancelText) {
          _cancelButton.innerText = cancelText
        } else {
          translationElement('cancel_button')
        }
      }
      _okButton.onclick = () => {
        window.ArtHubDesktop.messageboxSelect(true)
      }
      _cancelButton.onclick = () => {
        window.ArtHubDesktop.messageboxSelect(false)
      }
      window.ArtHubDesktop.registerEventCallback('setMessageBoxInfo', info => {
        _setWindowInfo(
          info.query,
          info.prompt,
          info.suggestion,
          info.okButtonText,
          info.cancelButtonText
        )
      })
    </script>
  </body>
</html>
