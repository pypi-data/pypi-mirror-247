!function(a,t){if("function"==typeof define&&define.amd)define(["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var e={exports:{}};t(e.exports),a.modContainer=e.exports}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,(function(a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.container=void 0;const t=MyAMS.$,e=a.container={switchElementAttribute:a=>function(a,e){MyAMS.require("ajax","alert","i18n").then((()=>{const e=a.parents("td").first(),n=t("i",e),s=e.parents("tr"),i=s.parents("table"),o=t(`thead th:nth-child(${e.index()+1})`,i);let d=a.data("ams-location")||o.data("ams-location")||s.data("ams-location")||i.data("ams-location")||"";d&&(d+="/");const l=a.data("ams-update-target")||o.data("ams-update-target")||s.data("ams-update-target")||i.data("ams-update-target")||"switch-element-attribute.json",r=s.data("ams-element-name"),c=n.attr("data-original-title")||n.attr("title");n.tooltip("hide").replaceWith('<i class="fas fa-spinner fa-spin"></i>'),MyAMS.ajax.post(d+l,{object_name:r,attribute_name:o.data("ams-attribute-name")}).then(((a,n,s)=>{let i=t("i",e);"success"===a.status?(a.state?i.replaceWith(`<i class="${o.data("ams-icon-on")}"></i>`):i.replaceWith(`<i class="${o.data("ams-icon-off")}"></i>`),c&&(i=t("i",e),i.addClass("hint").attr("data-original-title",c)),a.handle_json&&MyAMS.ajax.handleJSON(a)):MyAMS.ajax.handleJSON(a)}))}))},deleteElement:a=>function(a,e){MyAMS.require("ajax","alert","i18n").then((()=>{MyAMS.alert.bigBox({status:"danger",icon:"fas fa-bell",title:MyAMS.i18n.WARNING,message:MyAMS.i18n.CONFIRM_REMOVE,successLabel:MyAMS.i18n.CONFIRM,cancelLabel:MyAMS.i18n.BTN_CANCEL}).then((e=>{if("success"!==e)return;const n=a.parents("td"),s=n.parents("tr"),i=s.parents("table"),o=t(`thead th:nth-child(${n.index()+1})`,i);let d=a.data("ams-location")||o.data("ams-location")||s.data("ams-location")||i.data("ams-location")||"";d&&(d+="/");const l=a.data("ams-delete-target")||o.data("ams-delete-target")||s.data("ams-delete-target")||i.data("ams-delete-target")||"delete-element.json",r=s.data("ams-element-name");MyAMS.ajax.post(d+l,{object_name:r}).then(((a,t,e)=>{"success"===a.status?(i.hasClass("datatable")?i.DataTable().row(s).remove().draw():s.remove(),a.handle_json&&MyAMS.ajax.handleJSON(a)):MyAMS.ajax.handleJSON(a)}))}))}))}};window.MyAMS&&(MyAMS.env.bundle?MyAMS.config.modules.push("container"):(MyAMS.container=e,console.debug("MyAMS: container module loaded...")))}));